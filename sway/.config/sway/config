font pango:MesloLGSDZNerdFont 7
set $mod Mod4

set $left h
set $down j
set $up k
set $right l
set $term foot
set $menu bemenu-run


output * bg $HOME/.config/sway/wallpapers/beach.jpg fill
#output eDP-1 mode 1366x768@48.017Hz
# bindsym $mod+m output "HDMI-A-2" toggle ; output "eDP-1" toggle

exec swayidle -w \
     timeout 300 ' brightnessctl -s set 3%'\
     resume 'brightnessctl -r'\
     timeout 400 'swaylock -f -c 000000' \
     timeout 800 'swaymsg "output eDP-1 dpms off"' \
     resume 'swaymsg "output eDP-1 dpms on" ' \
     timeout 1500 'systemctl suspend ' \
     before-sleep 'swaylock -f -c 000000';

input "type:touchpad" {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
    drag_lock disabled
    scroll_factor 1.0
    accel_profile "adaptive"
    pointer_accel 0.8

}

bindgesture swipe:right workspace prev
bindgesture swipe:left workspace next
bindgesture swipe:down move workspace 10
bindgesture swipe:up workspace number 10
bindsym XF86MonBrightnessUp exec killall $HOME/Documents/bin/brightness.sh; exec brightnessctl set +1% && $HOME/Documents/bin/brightness.sh
bindsym XF86MonBrightnessDown exec killall $HOME/Documents/bin/brightness.sh; exec brightnessctl set 1%- && $HOME/Documents/bin/brightness.sh
bindsym XF86AudioRaiseVolume  exec killall $HOME/Documents/bin/volume.sh ; exec pamixer --increase 5 && $HOME/Documents/bin/volume.sh
bindsym XF86AudioLowerVolume  exec killall $HOME/Documents/bin/volume.sh ; exec pamixer --decrease 5 && exec $HOME/Documents/bin/volume.sh
bindsym XF86AudioMute exec killall "$HOME/Documents/bin/volume.sh";exec pamixer --toggle-mute && $HOME/Documents/bin/volume.sh
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPrev exec playerctl position 20-
bindsym XF86AudioNext exec playerctl position 20+
bindsym Mod4+ctrl+Shift+t input type:touchpad events toggle enabled disabled ;

bindsym $mod+n exec gammastep -O 3000
bindsym $mod+Shift+n exec pkill gammastep
exec --no-startup-id /usr/bin/dunst
bindsym ctrl+Return exec "dunstctl close"
bindsym ctrl+Shift+space exec /usr/bin/dunstctl history-pop

exec --no-startup-id  $HOME/Documents/bin/autotiling
exec --no-startup-id  wl-paste --watch $HOME/Documents/bin/clipboard_save.sh add
bindsym $mod+v exec $HOME/Documents/bin/clipboard_save.sh sel
bindsym Mod4+p exec hyprpicker | wl-copy
bindsym $mod+t exec ~/Documents/bin/.timer.sh

bindsym Print exec grim ~/Pictures/Screenshots/$(date +'%d%b%y__%H:%M:%S').png && dunstify -u low -t 500 " Screenshot saved "
bindsym $mod+Print exec grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +'%d%b%y__%H:%M:%S').png
bindsym ctrl+Shift+Print exec wl-paste | swappy -f -
bindsym ctrl+Print exec grim -g "$(slurp)" - | swappy -f -
bindsym $mod+ctrl+s exec feh /home/prem/Pictures/Screenshots/

bindsym $mod+ctrl+w exec bash -c 'nmcli r w off && dunstify -u low "WAIT 10s" && nmcli r w on && sleep 5 && nmcli d w connect "iQOO Z7 5G" && dunstify "Connected" || dunstify "Connection Failed!"'
bindsym $mod+shift+w exec bash -c 'nmcli r w off && dunstify -u low "WAIT 10s" && nmcli r w on && sleep 5 && nmcli d w connect "TBPG 1St floor" && dunstify "Connected" || dunstify "Connection Failed!"'

bindsym $mod+d exec $menu
bindsym $mod+q kill

# -------- SWAY BASICS WINDOW CONFIG --------
bindsym $mod+Shift+c reload
bindsym $mod+ctrl+Shift+e exec swaymsg exit

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+0 workspace number 10

bindsym $mod+bracketleft workspace prev
bindsym $mod+bracketright workspace next

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+0 move container to workspace number 10

bindsym $mod+w layout toggle tabbed stacking
bindsym $mod+e layout toggle splitv splith

bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
floating_modifier Mod4 normal

bindsym $mod+period scratchpad show
bindsym $mod+Shift+period move scratchpad

bindsym F10 bar mode toggle
bar {
  position bottom
	mode hide
    hidden_state hide
	modifier Mod4
  status_command i3status-rs ~/.config/i3status-rust/config.toml
  font pango:MesloLGSDZNerdFont 9
    
    colors {
        statusline #ffffff
        background #111122dd
        focused_workspace #ffffff #ffffff #000000
        inactive_workspace #11113466 #242233ef #ffffff
    }
}

mode Mouse {
    bindsym f mode default, exec 'wl-kbptr-sway-active-win; swaymsg mode Mouse'
    bindsym Shift+f mode default, exec 'wl-kbptr; swaymsg mode Mouse'

    bindsym h seat seat0 cursor move -15 0
    bindsym j seat seat0 cursor move 0 15
    bindsym k seat seat0 cursor move 0 -15
    bindsym l seat seat0 cursor move 15 0
    bindsym shift+k seat seat0 cursor move 0 -100
    bindsym shift+j seat seat0 cursor move 0 100
    bindsym shift+h seat seat0 cursor move -100 0
    bindsym shift+l seat seat0 cursor move 100 0

    bindsym Return seat seat0 cursor press button1
    bindsym --release Return seat seat0 cursor release button1

    bindsym Space seat seat0 cursor press button2
    bindsym --release Space seat seat0 cursor release button2

    bindsym r seat seat0 cursor press button3
    bindsym --release r seat seat0 cursor release button3

    bindsym u exec wlrctl pointer scroll -50
    bindsym d exec wlrctl pointer scroll 50

    bindsym ctrl+c mode default, exec "swaymsg bar bar-0 mode hide"
}
bindsym $mod+m mode Mouse, exec "swaymsg bar bar-0 mode dock"
bindsym $mod+shift+m exec wl-kbptr-sway-active-win -o modes=floating','click -o mode_floating.source=detect
seat seat0 hide_cursor 2000

# class                 border  backgr. text    indicator child_border
client.focused          #222222 #3A3530 #eceff4 #481305   #491305
client.focused_inactive #222222 #000000 #d8dee9 #000000   #000000
client.unfocused        #222222 #000000 #d8dee9 #000000   #000000
client.urgent           #222222 #ebcb8b #2e3440 #8fbcbb   #ebcb8b

for_window [class="^.*"] border pixel 3;
for_window [class="^.*"] opacity 0.88
hide_edge_borders smart

bindsym $mod+s exec ~/.config/sway/scratchpad.sh
bindsym $mod+Tab workspace back_and_forth

for_window [app_id="thorium-browser"] move container to workspace 1; workspace 1
for_window [app_id="mpv"] move container to workspace 3; workspace 3
for_window [app_id="thunar"] move container to workspace 4; workspace 4
bindsym $mod+Return exec sh -lc '$term --app-id=foot_tmux tmux attach || $term --app-id=foot_tmux tmux new -s main'
# bindsym $mod+Return exec sh -lc 'swaymsg \'[app_id="foot_tmux"]\' kill; $term --app-id=foot_tmux tmux attach'
# for_window [app_id="foot" ] move container to workspace 2 ; workspace 2
# for_window [app_id="foot_tmux"] move container to workspace 2; workspace 2

bindsym $mod+Shift+return exec sh -lc '$term --app-id=foot-popup  tmux new-session -A -s popup'
for_window [app_id="foot-popup"] \
    floating enable, \
    move position 660px 300px, \
    resize set 700 500, \
    blur disable, \
    opacity 0.6, 



# exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec /usr/lib/xdg-desktop-portal -r
# exec /usr/lib/xdg-desktop-portal-wlr
exec systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway
# ------ SWAYfx - Eye Candy --------------

blur enable
#blur_noise 0.1
#blur_contrast 1.3
blur_passes 3
blur_radius 4
blur_brightness 1.1
default_border pixel 2
titlebar_border_thickness 2
titlebar_padding 9 2
